################################################
# projects
################################################
project_view:
  url: /project/view/:slug
  class:    sfPropelRoute
  param: { module: project, action: view }
  options: { model: Project, type: object }
  requirements: {slug: \w+ }
project_list:
  url: /project/list
  param: { module: project, action: list }
project_create:
  url: /project/create
  param: { module: project, action: create }
project_autocomplete:
  url: /project/autocomplete
  param: { module: project, action: autocomplete }
################################################
# jobs
################################################

job_create:
  url: /job/create
  param: { module: job, action: create }
job_success:
  url: /job/success
  param: { module: job, action: success }
job_show:
  url: /job/show/:slug
  class:    sfPropelRoute
  param: { module: job, action: show }
  options: { model: Job, type: object }
  requirements: {slug: \w+ }
job_list:
  url: /job/list/Pending
  param: { module: job, action: list }
job_list_by:
  url: /job/list/:state
  class:    sfPropelRoute
  param: { module: job, action: list }
  options: { model: Status, type: object }
  requirements: {slug: \w+ }
job_move:
  url: /job/move
  param: { module: job, action: move }
job_addto_project: 
  url: /job/add/project
  param: { module: job, action: addProject }
job_add_client:
  url: /job/add/client
  param: { module: job, action: addClient }
job_remove_client:
  url: /job/remove/client
  param: { module: job, action: removeClient }
job_add_photographer:
  url: /job/add/photographer
  param: { module: job, action: addPhotographer }
job_remove_photographer:
  url: /job/remove/photographer
  param: { module: job, action: removePhotographer }

################################################
# tags
################################################
job_add_tag:
  url: /job/tag
  param: { module: job, action: addTag }
job_remove_tag:
  url: /job/tag/delete
  param: { module: job, action: removeTag }
job_listby_tag:
  url: /tag/list/:name
  class:    sfPropelRoute
  param: { module: tag, action: list }
  options: { model: Tag, type: object }
  requirements: {name: \w+ }


tag_autocomplete:
  url: /tag/autocomplete
  param: { module: tag, action: autocomplete }
client_autocomplete:
  url: /client/autocomplete
  param: { module: client, action: autocomplete }
photographer_autocomplete:
  url: /photographer/autocomplete
  param: { module: photographer, action: autocomplete }

################################################
# misc login and redirect routes
################################################

# where you go after you log in succesfully
welcome_loggedin:
  url: /home/
  param: { module: welcome, action: redirect }

# sfguard
sf_guard_signin:
  url:   /login
  param: { module: sfGuardAuth, action: signin }
 
sf_guard_signout:
  url:   /logout
  param: { module: sfGuardAuth, action: signout }
 
sf_guard_password:
  url:   /request_password
  param: { module: sfGuardAuth, action: password }
  
################################################
# default rules
################################################

homepage:
  url:   /
  param: { module: welcome, action: index }

default_index:
  url:   /:module
  param: { action: index }

default:
  url:   /:module/:action/*
################################################
