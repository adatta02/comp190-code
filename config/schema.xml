<?xml version="1.0" encoding="UTF-8"?>
<database defaultIdMethod="native" name="propel" package="lib.model">
  <table name="project">
    <column name="id" type="INTEGER" primaryKey="true" required="true" autoIncrement="true"/>
    <column name="name" type="VARCHAR" size="45"/>
    <column name="status_id" type="INTEGER"/>
    <foreign-key name="fk_project_status" foreignTable="status">
      <reference local="status_id" foreign="id"/>
    </foreign-key>
  </table>
  <table name="sf_guard_user_profile">
    <column name="id" type="INTEGER" primaryKey="true" required="true" autoIncrement="true"/>
    <column name="user_type_id" type="INTEGER"/>
    <column name="user_id" type="INTEGER"/>
    <foreign-key name="fk_sf_guard_user_profile_user_type" foreignTable="user_type">
      <reference local="user_type_id" foreign="id"/>
    </foreign-key>
    <foreign-key name="fk_sf_gaurd_user_profile_user_id" foreignTable="sf_guard_user">
      <reference local="user_id" foreign="id"/>
    </foreign-key>
  </table>
  <table name="job">
    <column name="id" type="INTEGER" primaryKey="true" required="true" autoIncrement="true"/>
    <column name="project_id" type="INTEGER"/>
    <column name="publication_id" type="INTEGER"/>
    <column name="status_id" type="INTEGER"/>
    <column name="event" type="VARCHAR" size="64"/>
    <column name="date" type="DATE"/>
    <column name="start_time" type="TIMESTAMP"/>
    <column name="end_time" type="TIMESTAMP"/>
    <column name="due_date" type="TIMESTAMP"/>
    <column name="created_at" type="TIMESTAMP"/>
    <column name="street" type="VARCHAR" size="64"/>
    <column name="city" type="VARCHAR" size="64"/>
    <column name="state" type="VARCHAR" size="64"/>
    <column name="zip" type="INTEGER"/>
    <column name="contact_name" type="VARCHAR" size="45"/>
    <column name="contact_email" type="VARCHAR" size="64"/>
    <column name="contact_phone" type="VARCHAR" size="45"/>
    <column name="notes" type="LONGVARCHAR"/>
    <column name="estimate" type="INTEGER"/>
    <column name="photo_type" type="INTEGER"/>
    <column name="acct_num" type="VARCHAR" size="32"/>
    <column name="dept_id" type="VARCHAR" size="32"/>
    <column name="grant_id" type="VARCHAR" size="32"/>
    <column name="other" type="VARCHAR" size="255"/>
    <foreign-key name="fk_Shoot_Publication" foreignTable="publication">
      <reference local="publication_id" foreign="id"/>
    </foreign-key>
    <foreign-key name="fk_Job_Project" foreignTable="project">
      <reference local="project_id" foreign="id"/>
    </foreign-key>
    <foreign-key name="fk_Job_Status" foreignTable="status">
      <reference local="status_id" foreign="id"/>
    </foreign-key>
  </table>
  <table name="photo">
    <column name="id" type="INTEGER" primaryKey="true" required="true" autoIncrement="true"/>
    <column name="job_id" type="INTEGER"/>
    <foreign-key name="fk_Photo_Job" foreignTable="job">
      <reference local="job_id" foreign="id"/>
    </foreign-key>
  </table>
  <table name="photographer">
    <column name="id" type="INTEGER" primaryKey="true" required="true" autoIncrement="true"/>
    <column name="user_id" type="INTEGER"/>
    <column name="name" type="VARCHAR" size="64"/>
    <column name="phone" type="VARCHAR" size="45"/>
    <column name="email" type="VARCHAR" size="64"/>
    <column name="affiliation" type="VARCHAR" size="64"/>
    <column name="website" type="VARCHAR" size="64"/>
    <column name="description" type="LONGVARCHAR"/>
    <foreign-key name="fk_Photographer_User" foreignTable="sf_guard_user_profile">
      <reference local="user_id" foreign="id"/>
    </foreign-key>
  </table>
  <table name="client">
    <column name="id" type="INTEGER" primaryKey="true" required="true" autoIncrement="true"/>
    <column name="user_id" type="INTEGER"/>
    <column name="name" type="VARCHAR" size="45"/>
    <column name="department" type="VARCHAR" size="255"/>
    <column name="address" type="VARCHAR" size="255"/>
    <column name="email" type="VARCHAR" size="255"/>
    <column name="phone" type="VARCHAR" size="32"/>
    <foreign-key name="fk_Client_User" foreignTable="sf_guard_user_profile">
      <reference local="user_id" foreign="id"/>
    </foreign-key>
  </table>
  <table name="delivery">
    <column name="id" type="INTEGER" primaryKey="true" required="true" autoIncrement="true"/>
    <column name="pub_name" type="VARCHAR" size="255"/>
    <column name="pub_type" type="VARCHAR" size="255"/>
    <column name="other" type="VARCHAR" size="255"/>
    <column name="color" type="VARCHAR" size="255"/>
    <column name="format" type="VARCHAR" size="255"/>
    <column name="size" type="VARCHAR" size="255"/>
    <column name="method" type="VARCHAR" size="255"/>
    <column name="instructions" type="LONGVARCHAR"/>
    <column name="job_id" type="INTEGER"/>
    <foreign-key name="fk_delivery_job" foreignTable="job">
      <reference local="job_id" foreign="id"/>
    </foreign-key>
  </table>
  <table name="status">
    <column name="id" type="INTEGER" primaryKey="true" required="true" autoIncrement="true"/>
    <column name="state" type="VARCHAR" size="45"/>
  </table>
  <table name="publication">
    <column name="id" type="INTEGER" primaryKey="true" required="true" autoIncrement="true"/>
    <column name="name" type="VARCHAR" size="255"/>
    <column name="contact_name" type="VARCHAR" size="64"/>
    <column name="contact_email" type="VARCHAR" size="64"/>
  </table>
  <table name="user_type">
    <column name="id" type="INTEGER" primaryKey="true" required="true" autoIncrement="true"/>
    <column name="type" type="VARCHAR" size="45"/>
    <column name="permissions" type="INTEGER"/>
  </table>
  <table name="job_photographer">
    <column name="id" type="INTEGER" primaryKey="true" required="true" autoIncrement="true"/>
    <column name="photographer_id" type="INTEGER"/>
    <column name="job_id" type="INTEGER"/>
    <foreign-key name="fk_Job_Photographer_Photographer" foreignTable="photographer">
      <reference local="photographer_id" foreign="id"/>
    </foreign-key>
    <foreign-key name="fk_Job_Photographer_Job" foreignTable="job">
      <reference local="job_id" foreign="id"/>
    </foreign-key>
  </table>
  <table name="job_client">
    <column name="id" type="INTEGER" primaryKey="true" required="true" autoIncrement="true"/>
    <column name="client_id" type="INTEGER"/>
    <column name="job_id" type="INTEGER"/>
    <foreign-key name="fk_Job_Client_Client" foreignTable="client">
      <reference local="client_id" foreign="id"/>
    </foreign-key>
    <foreign-key name="fk_Job_Client_Job" foreignTable="job">
      <reference local="job_id" foreign="id"/>
    </foreign-key>
  </table>
  <table name="sf_guard_group">
    <column name="id" type="INTEGER" primaryKey="true" required="true" autoIncrement="true"/>
    <column name="name" type="VARCHAR" size="255" required="true"/>
    <column name="description" type="LONGVARCHAR"/>
    <unique>
      <unique-column name="name" size="255"/>
    </unique>
  </table>
  <table name="sf_guard_permission">
    <column name="id" type="INTEGER" primaryKey="true" required="true" autoIncrement="true"/>
    <column name="name" type="VARCHAR" size="255" required="true"/>
    <column name="description" type="LONGVARCHAR"/>
    <unique>
      <unique-column name="name" size="255"/>
    </unique>
  </table>
  <table name="sf_guard_group_permission">
    <column name="group_id" type="INTEGER" primaryKey="true" required="true"/>
    <column name="permission_id" type="INTEGER" primaryKey="true" required="true"/>
    <foreign-key name="sf_guard_group_permission_FK_1" foreignTable="sf_guard_group" onDelete="cascade">
      <reference local="group_id" foreign="id"/>
    </foreign-key>
    <foreign-key name="sf_guard_group_permission_FK_2" foreignTable="sf_guard_permission" onDelete="cascade">
      <reference local="permission_id" foreign="id"/>
    </foreign-key>
    <index>
      <index-column name="permission_id"/>
    </index>
  </table>
  <table name="sf_guard_user">
    <column name="id" type="INTEGER" primaryKey="true" required="true" autoIncrement="true"/>
    <column name="username" type="VARCHAR" size="128" required="true"/>
    <column name="algorithm" type="VARCHAR" size="128" required="true"/>
    <column name="salt" type="VARCHAR" size="128" required="true"/>
    <column name="password" type="VARCHAR" size="128" required="true"/>
    <column name="created_at" type="TIMESTAMP"/>
    <column name="last_login" type="TIMESTAMP"/>
    <column name="is_active" type="TINYINT" required="true"/>
    <column name="is_super_admin" type="TINYINT" required="true"/>
    <unique>
      <unique-column name="username" size="128"/>
    </unique>
  </table>
  <table name="sf_guard_user_permission">
    <column name="user_id" type="INTEGER" primaryKey="true" required="true"/>
    <column name="permission_id" type="INTEGER" primaryKey="true" required="true"/>
    <foreign-key name="sf_guard_user_permission_FK_1" foreignTable="sf_guard_user" onDelete="cascade">
      <reference local="user_id" foreign="id"/>
    </foreign-key>
    <foreign-key name="sf_guard_user_permission_FK_2" foreignTable="sf_guard_permission" onDelete="cascade">
      <reference local="permission_id" foreign="id"/>
    </foreign-key>
    <index>
      <index-column name="permission_id"/>
    </index>
  </table>
  <table name="sf_guard_user_group">
    <column name="user_id" type="INTEGER" primaryKey="true" required="true"/>
    <column name="group_id" type="INTEGER" primaryKey="true" required="true"/>
    <foreign-key name="sf_guard_user_group_FK_1" foreignTable="sf_guard_user" onDelete="cascade">
      <reference local="user_id" foreign="id"/>
    </foreign-key>
    <foreign-key name="sf_guard_user_group_FK_2" foreignTable="sf_guard_group" onDelete="cascade">
      <reference local="group_id" foreign="id"/>
    </foreign-key>
    <index>
      <index-column name="group_id"/>
    </index>
  </table>
  <table name="sf_guard_remember_key">
    <column name="user_id" type="INTEGER" primaryKey="true" required="true"/>
    <column name="remember_key" type="VARCHAR" size="32"/>
    <column name="ip_address" type="VARCHAR" size="50" primaryKey="true" required="true"/>
    <column name="created_at" type="TIMESTAMP"/>
    <foreign-key name="sf_guard_remember_key_FK_1" foreignTable="sf_guard_user" onDelete="cascade">
      <reference local="user_id" foreign="id"/>
    </foreign-key>
  </table>
  <table name="log">
    <column name="id" type="INTEGER" primaryKey="true" required="true" autoIncrement="true"/>
    <column name="message" type="VARCHAR" size="255"/>
    <column name="when" type="TIMESTAMP"/>
    <column name="propel_id" type="INTEGER"/>
    <column name="propel_class" type="VARCHAR" size="255"/>
    <column name="sf_guard_user_profile_id" type="INTEGER"/>
    <column name="log_message_type_id" type="INTEGER"/>
    <foreign-key name="fk_log_sf_guard_user_profile" foreignTable="sf_guard_user_profile">
      <reference local="sf_guard_user_profile_id" foreign="id"/>
    </foreign-key>
    <foreign-key name="fk_log_log_message_type" foreignTable="log_message_type">
      <reference local="log_message_type_id" foreign="id"/>
    </foreign-key>
  </table>
  <table name="log_message_type">
    <column name="id" type="INTEGER" primaryKey="true" required="true" autoIncrement="true"/>
    <column name="type" type="VARCHAR" size="64"/>
  </table>
</database>